(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{8273:function(e,r,i){Promise.resolve().then(i.bind(i,1819))},1819:function(e,r,i){"use strict";i.d(r,{default:function(){return V}});var s=i(7437),t=i(2265),n=i(1229),a=i(3590),l=i(9501),o=i(5293),d=i(1994),c=i(3335);function m(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,c.m6)((0,d.W)(r))}var u=i(1107),f=i(7712);let x=(0,f.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=t.forwardRef((e,r)=>{let{className:i,...t}=e;return(0,s.jsx)(u.f,{ref:r,className:m(x(),i),...t})});g.displayName=u.f.displayName;let h=l.RV,b=t.createContext({}),p=e=>{let{...r}=e;return(0,s.jsx)(b.Provider,{value:{name:r.name},children:(0,s.jsx)(l.Qr,{...r})})},v=()=>{let e=t.useContext(b),r=t.useContext(j),{getFieldState:i,formState:s}=(0,l.Gc)(),n=i(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=r;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...n}},j=t.createContext({}),z=t.forwardRef((e,r)=>{let{className:i,...n}=e,a=t.useId();return(0,s.jsx)(j.Provider,{value:{id:a},children:(0,s.jsx)("div",{ref:r,className:m("space-y-2",i),...n})})});z.displayName="FormItem";let w=t.forwardRef((e,r)=>{let{className:i,...t}=e,{error:n,formItemId:a}=v();return(0,s.jsx)(g,{ref:r,className:m(n&&"text-red-500 dark:text-red-900",i),htmlFor:a,...t})});w.displayName="FormLabel";let k=t.forwardRef((e,r)=>{let{...i}=e,{error:t,formItemId:n,formDescriptionId:a,formMessageId:l}=v();return(0,s.jsx)(o.g7,{ref:r,id:n,"aria-describedby":t?"".concat(a," ").concat(l):"".concat(a),"aria-invalid":!!t,...i})});k.displayName="FormControl",t.forwardRef((e,r)=>{let{className:i,...t}=e,{formDescriptionId:n}=v();return(0,s.jsx)("p",{ref:r,id:n,className:m("text-sm text-zinc-500 dark:text-zinc-400",i),...t})}).displayName="FormDescription";let y=t.forwardRef((e,r)=>{let{className:i,children:t,...n}=e,{error:a,formMessageId:l}=v(),o=a?String(null==a?void 0:a.message):t;return o?(0,s.jsx)("p",{ref:r,id:l,className:m("text-sm font-medium text-red-500 dark:text-red-900",i),...n,children:o}):null});y.displayName="FormMessage";let N=t.forwardRef((e,r)=>{let{className:i,type:t,...n}=e;return(0,s.jsx)("input",{type:t,className:m("flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",i),ref:r,...n})});N.displayName="Input";var F=i(7648),R=i(2451),I=i(1817),C=i(9064),S=i(3464);let P=(0,f.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=t.forwardRef((e,r)=>{let{className:i,variant:t,size:n,asChild:a=!1,...l}=e,d=a?o.g7:"button";return(0,s.jsx)(d,{className:m(P({variant:t,size:n,className:i})),ref:r,...l})});Z.displayName="Button";var _=i(5934),E=i(9376);let M=n.z.object({username:n.z.string().min(1,{message:"Campo Obligatorio"}),email:n.z.string().email({message:"Debe ser Formato Email"}).min(1,{message:"Campo Obligatorio"}),password:n.z.string().min(1,{message:"Campo Obligatorio"})});var V=e=>{let{mode:r}=e,i=(0,E.useRouter)(),t=(0,l.cI)({resolver:(0,a.F)(M),defaultValues:{username:"register"===r?"":"a",email:"",password:""}}),n=async e=>{try{if("register"===r){let{data:r}=await S.Z.post("/api/users/api/register",e);r.ok?C.ZP.success(r.message):r.error&&C.ZP.error(r.error)}else{let r=await (0,_.zB)("credentials",{redirect:!1,email:e.email,password:e.password});(null==r?void 0:r.error)?C.ZP.error("Credenciales no validas"):(null==r?void 0:r.ok)&&(C.ZP.success("Inicio de Sesi\xf3n exitoso!"),i.push("/"),i.refresh())}}catch(e){console.error(e),C.ZP.error("Algo salio mal vuelve a intentarlo")}};return(0,s.jsxs)("div",{className:"w-full flex items-center justify-center flex-col gap-6",children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:(0,s.jsxs)(F.default,{href:"/",className:"flex items-center gap-0.5 py-1 border-b border-transparent hover:border-b-zinc-950 transition-all duration-300",children:[(0,s.jsx)(R.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Volver al Inicio"})]})}),(0,s.jsx)(h,{...t,children:(0,s.jsxs)("form",{onSubmit:t.handleSubmit(n),className:"w-full max-w-[380px] px-6 py-6 border border-zinc-300 rounded-md space-y-3 ",children:[(0,s.jsxs)("h2",{className:"font-mediun text-lg text-center",children:[" ","register"===r?"Registrate":"Inicia Sesi\xf3n"," "]}),(0,s.jsxs)("div",{children:["register"===r&&(0,s.jsx)(p,{control:t.control,name:"username",render:e=>{let{field:r}=e;return(0,s.jsxs)(z,{children:[(0,s.jsx)(w,{children:"Usuario"}),(0,s.jsx)(k,{children:(0,s.jsx)(N,{placeholder:"Ejm: RoggerMeneses",...r})}),(0,s.jsx)(y,{})]})}}),(0,s.jsx)(p,{control:t.control,name:"email",render:e=>{let{field:r}=e;return(0,s.jsxs)(z,{children:[(0,s.jsx)(w,{children:"Correo Electr\xf3nico"}),(0,s.jsx)(k,{children:(0,s.jsx)(N,{type:"email",placeholder:"ejm: RoggerMeneses@gmail.com",...r})}),(0,s.jsx)(y,{})]})}}),(0,s.jsx)(p,{control:t.control,name:"password",render:e=>{let{field:r}=e;return(0,s.jsxs)(z,{children:[(0,s.jsx)(w,{children:"Contrase\xf1a"}),(0,s.jsx)(k,{children:(0,s.jsx)(N,{type:"password",placeholder:"******************",...r})}),(0,s.jsx)(y,{})]})}})]}),(0,s.jsx)("div",{children:t.formState.isSubmitting?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Z,{disabled:!0,className:"w-full",children:[(0,s.jsx)(I.Z,{className:"w-4 h-4 animate-spin"}),(0,s.jsx)("span",{children:"register"===r?"Registrando...":"Iniciando Sesi\xf3n..."})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700 py-2 px-4 rounded-lg shadow-lg transition-all w-32",children:"register"===r?"Registrar":"Iniciar Sesi\xf3n"})})})})]})}),(0,s.jsx)("div",{className:"text-sm",children:"register"===r?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("p",{children:["\xbfYa tienes una cuenta? ",(0,s.jsx)(F.default,{className:"font-semibold hover:underline transition-all duration-200",href:"/login",children:"Inicia Sesi\xf3n"})]})}):(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsxs)("p",{children:["\xbfA\xfan no tienes una cuenta? ",(0,s.jsx)(F.default,{className:"font-semibold hover:underline transition-all duration-200",href:"/register",children:"Registrate"})]})," "]})})]})}}}]);